<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>


        function fun(n, o) {
            console.log(o);
            return {

                fun: function (m) {

                    return fun(m, n);
                }
            };
        }
        // var a = fun(0);  //undefined  0
        // a.fun(1);
        //fun(0).fun(1)   fun(0,undefined){fun:function(1){return fun(1,0)}}
        // a.fun(2);
        //fun(0).fun(2)  fun(0,undefined){fun:function(2){return fun(2,0)}}
        // a.fun(3);
        //fun(0).fun(3)  fun(0,undefined){fun:function(3){return fun(3,0)}}
        // var b = fun(0).fun(1).fun(2).fun(3);
        // fun(0,undefined)
        // fun(0,undefined).fun(1)  fun(0,undefined){fun:function(1){return fun(1,0)}}
        // fun(1,0).fun(2)          fun(1,0){fun:function(2){return fun(2,1)}}
        // fun(2,1).fun(3)          fun(2,1){fun:function(3){return fun(3,2)}}
        var c = fun(0).fun(1);
        //fun(0,undefined).fun(1)   fun(0,undefined){fun:function(1){return fun(1,0)}}
        c.fun(2);
        //fun(1,0).fun(2)           fun(1,0){fun:function(2){return fun(2,1)}}          
        c.fun(3);   
        //fun(1,0).fun(3)           fun(1,0){fun:function(3){return fun(3,1)}}
    </script>
</body>

</html>